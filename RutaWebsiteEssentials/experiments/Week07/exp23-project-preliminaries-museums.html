<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, minimum-scale=1">

    <title>Project preliminaries - Museums near geolocation</title>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>

    <script src="../../javascript/experiments_javascript/Week07/project-preliminaries-museums.js"></script>        

    <link rel="icon" href="../../images/paint-icon1.ico" />

    <style>
        body {
            background-color: bisque;
            font-family: 'Papyrus';
            font-size: large;
        }

        .code_snippet {
            background: white;
            border: 1px solid;
            font-family: 'Times New Roman', Times, serif;
        }
    </style>
</head>
<body>
    <h3>Art Meusuems Nearby Your Location</h3>
    <hr />
    <h3>Your current location is: </h3>
    <div id="demo"></div>
    <h3>Art meuseums nearby your location are:</h3>
    <div id="mapholder"></div>
    <br />
    <h3>Experiment description</h3>
    <hr />
    <p>
        This is a variation of the previous experiment, I have retrieved meuseum data near the user location. 
        For this, I have used geolocation to extract the users location and then used 'Places API' to retrieve Art Musuems
        that are close to this location using category id as 'sights-museums'.
        Also I have displyed a map that shows the new location.
    </p>
    <br />
    <h3>Code Snippet</h3>
    <p>
        $.getJSON(url)<br />
        .done(function (data) {<br />
            $.each(data, function (results, search) {<br />
                $.each(search.items, function (i, content) {<br />
                    if (content.category.id == &apos;sights-museums&apos;) {<br />
        <br />
                        var para = document.createElement(&quot;p&quot;);<br />
                        var title = document.createTextNode(content.title);<br />
                        var linebreak = document.createElement(&quot;br&quot;);<br />
                        para.appendChild(title);<br />
                        para.appendChild(linebreak);<br />
        <br />
                        var latlon = content.position;<br />
                        var image = document.createElement(&quot;img&quot;);<br />
                        var img_url = &quot;http://maps.googleapis.com/maps/api/staticmap?center=&quot; + latlon + &quot;&amp;zoom=14&amp;size=400x300&amp;sensor=false&quot;;<br />
        <br />
                        image.setAttribute(&apos;src&apos;, img_url);<br />
                        mapholder.appendChild(para);<br />
                        mapholder.appendChild(image);<br />
                        mapholder.appendChild(linebreak);<br />
                    }<br />
                });<br />
        <br />
            });<br />
        });<br />
    </p>
    <br />
    
    <h4>Source Code</h4>
    <hr />
    <a href="../../fileview/Default.aspx?~/experiments/Week07/exp22-project-preliminaries.html" target="_blank">experiment 23 : Project Preliminaries - Location of Art Museums - HTML</a>
    <br />
    <a href="../../fileview/Default.aspx?~/javascript/experiments_javascript/Week07/project-preliminaries-museums.js" target="_blank">experiment 23 : Project Preliminaries - Location of Art Museums -JS</a>
    <br />

    <h3>References</h3>
    <hr />
    <a href="https://places.demo.api.here.com/places/static/doc/public/topics/first-request.html" target="_blank">Places API</a>
    <br />
    <a href="http://www.w3schools.com/" target="_blank">W3 Schools</a>

    
</body>
</html>
